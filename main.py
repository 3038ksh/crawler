from view import Viewerfrom crawler import Crawlerimport threadingclass Main(object):    def __init__(self):        self.io = Viewer()        self.data = self.io.read()        self.start()    def start(self):        flag = False        for i in range(len(self.data)):            if flag == False:                if self.data[i][0] == 'ERMEBN000001341237':                    flag = True                continue            print(self.data[i])            if self.data[i][7] != '':                self.write(self.data[i][7], i)                continue            url = "https://catalog.loc.gov/vwebv/search?searchArg1=" + self.data[i][6] + "&argType1=all&searchCode1=GKEY&searchType=2&combine2=and&searchArg2=&argType2=all&searchCode2=GKEY&combine3=and&searchArg3=&argType3=all&searchCode3=GKEY&year=1517-2017&fromYear=&toYear=&location=all&place=all&type=all&language=all&recCount=25"            str = Crawler.crawl(url)            self.write(str, i)    def write(self, data, idx):        t = threading.Thread(target=self.io.write, args=(data, idx))        t.daemon = True        t.start()if __name__ == "__main__":    Main()